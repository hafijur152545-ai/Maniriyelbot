<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maniriyel Bot</title>

<!-- Monetag -->
<script src='//libtl.com/sdk.js' data-zone='10390731' data-sdk='show_10390731'></script>

<!-- Adexora -->
<script src="https://adexora.com/cdn/ads.js?id=1551"></script>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{margin:0;font-family:Segoe UI,sans-serif;background:#f2f4ff;padding-bottom:120px}
.header{background:linear-gradient(135deg,#6d5dfc,#8f9bff);color:#fff;padding:20px;border-radius:0 0 25px 25px}
.card{background:#fff;margin:15px;padding:20px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,.1)}
.balance{font-size:34px;font-weight:700}
.btn{width:100%;padding:14px;margin-top:10px;border:none;border-radius:14px;color:#fff;font-size:16px}
.btn-blue{background:#2d6cdf}
.btn-purple{background:#8a3ffc}
.btn-dark{background:#2f3437}
input,select{width:100%;padding:12px;margin-top:10px;border-radius:12px;border:1px solid #ccc}
.screen{display:none}
.screen.active{display:block}
.counter{margin-top:8px;font-size:14px;color:#555}
.nav{position:fixed;bottom:10px;left:10px;right:10px;background:#2f3437;border-radius:20px;padding:12px;display:flex;justify-content:space-around;color:#bbb}
.nav span{font-size:22px}
.nav .active{color:#fff}
</style>
</head>

<body>

<div class="header">
  <h2>üí∞ Earn Money Bot</h2>
  <small id="userInfo">User</small>
</div>

<!-- HOME -->
<div id="home" class="screen active">
  <div class="card">
    <div class="balance" id="balance">0.00 ‡ß≥</div>
    <small>Total Balance</small>
  </div>
  <div class="card">
    <button class="btn btn-dark" onclick="copyReferral()">üë• Referral Link</button>
  </div>
</div>

<!-- EARN -->
<div id="earn" class="screen">
  <div class="card">
    <div class="balance" id="balanceEarn">0.00 ‡ß≥</div>
    <small>Total Balance</small>

    <button class="btn btn-blue" onclick="watchMonetag()">üì∫ Watch Monetag (+0.70‡ß≥)</button>
    <div class="counter">‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: <span id="mSeen">0</span> / 50</div>

    <button class="btn btn-purple" onclick="watchAdexora()">üì∫ Watch Adexora (+0.70‡ß≥)</button>
    <div class="counter">‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: <span id="aSeen">0</span> / 50</div>
  </div>
</div>

<!-- WITHDRAW (FIXED) -->
<div id="withdraw" class="screen">
  <div class="card">
    <h3>üí∏ Withdraw</h3>

    <select id="method">
      <option value="">Select Method</option>
      <option>Bkash</option>
      <option>Nagad</option>
      <option>Rocket</option>
    </select>

    <input id="number" placeholder="Payment Number">
    <input id="amount" type="number" placeholder="Amount">

    <button class="btn btn-dark" onclick="submitWithdraw()">Submit Withdraw</button>
  </div>
</div>

<!-- NAV -->
<div class="nav">
  <span onclick="showScreen('home',this)" class="active">üè†</span>
  <span onclick="showScreen('earn',this)">üé¨</span>
  <span onclick="showScreen('withdraw',this)">üí∏</span>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

let user = tg.initDataUnsafe.user || {id:0,first_name:"User"};

const AD_REWARD = 0.7;
const DAILY_LIMIT = 50;

let balance = Number(localStorage.getItem("balance")||0);
let monetagSeen = Number(localStorage.getItem("monetagSeen")||0);
let adexoraSeen = Number(localStorage.getItem("adexoraSeen")||0);

document.getElementById("userInfo").innerText = user.first_name+" | ID:"+user.id;

function refreshUI(){
  balanceEl.innerText = balance.toFixed(2)+" ‡ß≥";
  balanceEarn.innerText = balance.toFixed(2)+" ‡ß≥";
  mSeen.innerText = monetagSeen;
  aSeen.innerText = adexoraSeen;
}
refreshUI();

function showScreen(id,el){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".nav span").forEach(n=>n.classList.remove("active"));
  el.classList.add("active");
}

function watchMonetag(){
  if(monetagSeen>=DAILY_LIMIT) return alert("‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ limit ‡¶∂‡ßá‡¶∑");
  if(typeof show_10390731!=="function") return alert("Ad not ready");
  show_10390731().then(()=>{
    balance+=AD_REWARD;
    monetagSeen++;
    localStorage.setItem("balance",balance);
    localStorage.setItem("monetagSeen",monetagSeen);
    refreshUI();
  }).catch(()=>alert("Ad failed"));
}

function watchAdexora(){
  if(adexoraSeen>=DAILY_LIMIT) return alert("‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ limit ‡¶∂‡ßá‡¶∑");
  if(typeof window.showAdexora!=="function") return alert("Ad not ready");
  window.showAdexora().then(()=>{
    balance+=AD_REWARD;
    adexoraSeen++;
    localStorage.setItem("balance",balance);
    localStorage.setItem("adexoraSeen",adexoraSeen);
    refreshUI();
  }).catch(()=>alert("Ad failed"));
}

function submitWithdraw(){
  let m=method.value,n=number.value,a=Number(amount.value);
  if(!m||!n||!a) return alert("‡¶∏‡¶¨ ‡¶ò‡¶∞ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®");
  if(a>balance) return alert("Low balance");
  balance-=a;
  localStorage.setItem("balance",balance);
  refreshUI();
  alert("Withdraw request sent");
}

function copyReferral(){
  let link=`https://t.me/maniriyel_bot?start=${user.id}`;
  navigator.clipboard.writeText(link);
  alert("Referral link copied");
}
</script>

</body>
</html>
