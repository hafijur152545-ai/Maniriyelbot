<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body{font-family:Arial;background:#f5f5f5;padding:20px;}
.card{background:#fff;padding:15px;border-radius:10px;margin-bottom:10px;}
button{padding:6px 12px;margin:5px;}
</style>
</head>

<body>

<h2>Admin Panel</h2>
<div id="box"></div>

<script>
var firebaseConfig = {
  apiKey: "AIzaSyBuXO7NeHZzhgxJzvu8Q13AcojG5mkCxQA",
  authDomain: "maniriyelbot.firebaseapp.com",
  databaseURL: "https://maniriyelbot-default-rtdb.firebaseio.com",
  projectId: "maniriyelbot",
  storageBucket: "maniriyelbot.firebasestorage.app",
  messagingSenderId: "245853450613",
  appId: "1:245853450613:web:b2a96e8dcaadb8de67233c"
};
firebase.initializeApp(firebaseConfig);
var db = firebase.database();

db.ref("withdrawals").on("value",snap=>{
  let h="";
  snap.forEach(s=>{
    let w=s.val();
    h+=`
    <div class="card">
      User: ${w.userId}<br>
      Amount: ${w.amount} à§³<br>
      Method: ${w.method}<br>
      Status: ${w.status}<br>
      <button onclick="upd('${s.key}','Approved')">Approve</button>
      <button onclick="upd('${s.key}','Rejected')">Reject</button>
    </div>`;
  });
  box.innerHTML=h;
});

function upd(k,s){
  db.ref("withdrawals/"+k+"/status").set(s);
}
</script>

</body>
</html>
